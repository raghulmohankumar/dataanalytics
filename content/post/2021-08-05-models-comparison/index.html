---
title: Models Comparison
author: Nouran, Raghul and Mona
date: '2021-08-05'
slug: models-comparison
categories: []
tags: []
---

<script src="{{< blogdown/postref >}}index_files/header-attrs/header-attrs.js"></script>


<style>
body {
text-align: justify}
</style>
<p><img src="home.png" width="98%" /></p>
<div id="the-goal" class="section level2">
<h2>The Goal</h2>
<p>The Goal of this study is to help the credit card provider company CredX to identify the right customer based on predictive model where the past data of the bankâ€™s applicants was used to built the predictive model and determine the factors affecting credit risk.</p>
<p>Three models were created which are the Logistic regression, random forest and support vector machine among which the best model is defined as the model with the best accuracy taking inconsideration the sensitivity and specificity.</p>
</div>
<div id="the-data" class="section level2">
<h2>The Data</h2>
<p>The data provided are two data frames one provide the Demographic data that is obtained from the applicants at the time of the credit card application and the other is Credit Bureau which is taken from the credit bureau.The Demographic data composed of 71295 observations for 11 independent variables and one dependent variable that is the performance_tag while the size of the Credit Bureau is also 71295 observations for 18 independent variables and one dependent variable that is the performance_tag.</p>
<p>During the study we will provide two models the first one is based on the Demographic data only and the second one is based on both the Demographic data and the Credit Bureau data to check the predictive power of the application data.</p>
</div>
<div id="univariate-analysis" class="section level2">
<h2>Univariate Analysis</h2>
<p>In the univariate analysis, it is easy notice the frequency of data in the dataset through the graphs. The most frequent values of the dominant predictors are listed as shown below,</p>
<ol style="list-style-type: lower-roman">
<li>Age - 38 years</li>
<li>Gender - Male</li>
<li>Marital Status - Married</li>
<li>Number of dependents - 3</li>
<li>Income - $</li>
<li>Education - Professional Education</li>
<li>Type of Residence - Rented</li>
<li>Employement in current company - 60</li>
<li>Profession - SAL</li>
<li>Average CC utilisation in last 12 months - 10</li>
<li>Trades opened in last 6 months - 1</li>
<li>Trades opened in last 12 months - 2</li>
</ol>
</div>
<div id="bivariate-analysis" class="section level2">
<h2>Bivariate Analysis</h2>
<p>In the Bivariate Analysis, the correlation plot is easily identified for the demogs data and combined data in the above cluster of plots.</p>
<p>Then the dataset is briefly analysed by the scatter plots between Performance Tag and</p>
<ol style="list-style-type: lower-roman">
<li>No of dependents</li>
<li>Income</li>
<li>No of months in current residence</li>
<li>No of months in current residence</li>
<li>No of times 90 dpd or worse in last 6 months</li>
<li>No of times 60 dpd or worse in last 6 months</li>
<li>No of times 30 dpd or worse in last 6 months</li>
<li>No of times 90 dpd or worse in last 12 months</li>
<li>No of times 60 dpd or worse in last 12 months</li>
<li>No of times 30 dpd or worse in last 12 months</li>
<li>Average CC utilisation in last 12 months</li>
<li>Average CC utilisation in last 6 months</li>
<li>No of Trades opened in last 12 months</li>
<li>No of Trades opened in last 6 months</li>
<li>No of PL Trades opened in last 12 months</li>
<li>No of PL Trades opened in last 6 months</li>
<li>Presence of Open Home loan</li>
<li>Outstanding Balance</li>
<li>Total No of trades</li>
<li>Presence of Open Auto loan</li>
</ol>
<pre><code>## Univariate analysis of demogs data</code></pre>
<pre><code>## Distribution of age shows that most of the people are among the range of 37-53. There is two outlier outcome less than 0 which are not acceptable for age variable.</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-3-1.png" width="672" /><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-3-2.png" width="672" /></p>
<pre><code>## Distribution of gender represents that almost 76 percent of the clients are male.</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-3-3.png" width="672" /></p>
<pre><code>## Distribution of marital status at the time of application represents that almost 85 percent of the clients are married.</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-3-4.png" width="672" /></p>
<pre><code>## Distribution of education data shows that professionals, masters, and bachelors indicate the most three type of educated clients, 35, 33, and 25 percent respectively.</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-3-5.png" width="672" /></p>
<pre><code>## Distribution of profession data shows that SAL is the most with number of 39674 of all clients.</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-3-6.png" width="672" /></p>
<pre><code>## Distribution of type of residence data shows that 74% of the clients are renting the house and 20% have their own house.</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-3-7.png" width="672" /></p>
<pre><code>## Distribution of number of dependents data shows that half of the observations are have 2, 3, and 4 dependents. Other have 1 or 5 dependents.</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-3-8.png" width="672" /><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-3-9.png" width="672" /></p>
<pre><code>## Distribution of income data shows that half of the observations have $15-$40 income. The maximum income is $60.The minimum is -0.5 which is an outlier amount and it&#39;s not acceptable as income.</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-3-10.png" width="672" /><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-3-11.png" width="672" /></p>
<pre><code>## Distribution of no of months in current residence represents that most of the observations relates to the 0 month in current residents.</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-3-12.png" width="672" /><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-3-13.png" width="672" /></p>
<pre><code>## Distribution of no of months in current company represents that most of the clients are new in the company and max number months is 75 month.</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-3-14.png" width="672" /><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-3-15.png" width="672" /></p>
<pre><code>## Bivariate analysis of demogs data</code></pre>
<pre><code>## According to the results of correlation, there is no significant correlation between performance tag and other variables of the demogs data. The only positive correlation relates to no of months in current residence, 0.02. The negative correlations relates to income and no of months in current company which are, -0.04 and -0.02, respectively. Negative correlation is a relationship between two variables in which one variable increases as the other decreases, and vice versa.</code></pre>
<pre><code>## The Correlation between Number of dependents and performance Tag is -0.000307697</code></pre>
<pre><code>## The Correlation between Number of dependents and performance Tag is -0.03872444</code></pre>
<pre><code>## The Correlation between Number of dependents and performance Tag is 0.01625466</code></pre>
<pre><code>## The Correlation between Number of dependents and performance Tag is -0.01903269</code></pre>
<pre><code>##                                   application_id   age no_of_dependents income
## application_id                              1.00  0.00            -0.01   0.00
## age                                         0.00  1.00             0.17   0.06
## no_of_dependents                           -0.01  0.17             1.00   0.03
## income                                      0.00  0.06             0.03   1.00
## no_of_months_in_current_residence           0.00 -0.07            -0.01  -0.09
## no_of_months_in_current_company             0.00 -0.02            -0.01  -0.10
## performance_tag                             0.00  0.00             0.00  -0.04
##                                   no_of_months_in_current_residence
## application_id                                                 0.00
## age                                                           -0.07
## no_of_dependents                                              -0.01
## income                                                        -0.09
## no_of_months_in_current_residence                              1.00
## no_of_months_in_current_company                               -0.08
## performance_tag                                                0.02
##                                   no_of_months_in_current_company
## application_id                                               0.00
## age                                                         -0.02
## no_of_dependents                                            -0.01
## income                                                      -0.10
## no_of_months_in_current_residence                           -0.08
## no_of_months_in_current_company                              1.00
## performance_tag                                             -0.02
##                                   performance_tag
## application_id                               0.00
## age                                          0.00
## no_of_dependents                             0.00
## income                                      -0.04
## no_of_months_in_current_residence            0.02
## no_of_months_in_current_company             -0.02
## performance_tag                              1.00</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-3-16.png" width="672" /></p>
<pre><code>## tibble [69,870 x 19] (S3: tbl_df/tbl/data.frame)
##  $ application_id                                             : num [1:69870] 9.54e+08 4.33e+08 9.41e+08 3.92e+08 1.82e+08 ...
##  $ no_of_times_90_dpd_or_worse_in_last_6_months               : num [1:69870] 0 0 0 0 0 0 0 0 0 0 ...
##  $ no_of_times_60_dpd_or_worse_in_last_6_months               : num [1:69870] 0 0 0 0 0 0 0 0 0 0 ...
##  $ no_of_times_30_dpd_or_worse_in_last_6_months               : num [1:69870] 0 0 0 0 0 0 0 0 0 0 ...
##  $ no_of_times_90_dpd_or_worse_in_last_12_months              : num [1:69870] 0 0 0 0 0 0 0 0 0 0 ...
##  $ no_of_times_60_dpd_or_worse_in_last_12_months              : num [1:69870] 0 0 0 0 0 0 0 0 0 0 ...
##  $ no_of_times_30_dpd_or_worse_in_last_12_months              : num [1:69870] 0 0 0 0 0 0 0 0 1 0 ...
##  $ avgas_cc_utilization_in_last_12_months                     : num [1:69870] 4 3 7 11 12 10 11 13 9 6 ...
##  $ no_of_trades_opened_in_last_6_months                       : num [1:69870] 1 1 0 1 0 0 0 1 0 1 ...
##  $ no_of_trades_opened_in_last_12_months                      : num [1:69870] 2 2 0 1 1 0 1 1 0 1 ...
##  $ no_of_pl_trades_opened_in_last_6_months                    : num [1:69870] 0 0 0 0 0 0 0 0 0 0 ...
##  $ no_of_pl_trades_opened_in_last_12_months                   : num [1:69870] 0 0 0 0 0 0 0 0 0 0 ...
##  $ no_of_inquiries_in_last_6_months_excluding_home_auto_loans : num [1:69870] 0 0 0 0 0 0 0 0 0 0 ...
##  $ no_of_inquiries_in_last_12_months_excluding_home_auto_loans: num [1:69870] 0 0 0 0 0 0 0 0 0 0 ...
##  $ presence_of_open_home_loan                                 : num [1:69870] 1 0 1 1 1 0 1 1 1 0 ...
##  $ outstanding_balance                                        : num [1:69870] 2999395 3078 3004972 3355373 3014283 ...
##  $ total_no_of_trades                                         : num [1:69870] 4 5 2 4 4 1 4 3 2 1 ...
##  $ presence_of_open_auto_loan                                 : num [1:69870] 0 0 0 1 0 0 0 0 0 1 ...
##  $ performance_tag                                            : num [1:69870] 0 0 0 0 0 0 0 0 0 0 ...
##  - attr(*, &quot;spec&quot;)=
##   .. cols(
##   ..   `Application ID` = col_double(),
##   ..   `No of times 90 DPD or worse in last 6 months` = col_double(),
##   ..   `No of times 60 DPD or worse in last 6 months` = col_double(),
##   ..   `No of times 30 DPD or worse in last 6 months` = col_double(),
##   ..   `No of times 90 DPD or worse in last 12 months` = col_double(),
##   ..   `No of times 60 DPD or worse in last 12 months` = col_double(),
##   ..   `No of times 30 DPD or worse in last 12 months` = col_double(),
##   ..   `Avgas CC Utilization in last 12 months` = col_double(),
##   ..   `No of trades opened in last 6 months` = col_double(),
##   ..   `No of trades opened in last 12 months` = col_double(),
##   ..   `No of PL trades opened in last 6 months` = col_double(),
##   ..   `No of PL trades opened in last 12 months` = col_double(),
##   ..   `No of Inquiries in last 6 months (excluding home &amp; auto loans)` = col_double(),
##   ..   `No of Inquiries in last 12 months (excluding home &amp; auto loans)` = col_double(),
##   ..   `Presence of open home loan` = col_double(),
##   ..   `Outstanding Balance` = col_double(),
##   ..   `Total No of Trades` = col_double(),
##   ..   `Presence of open auto loan` = col_double(),
##   ..   `Performance Tag` = col_double()
##   .. )</code></pre>
<pre><code>## Univariate analysis of credit_bureau data</code></pre>
<pre><code>## Distribution of  No of times 90 dpd or worse in last 6_months represents that 78% are 0 and almost 19% are 1.</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-3-17.png" width="672" /></p>
<pre><code>## Distribution of No of times 60 dpd or worse in last 6_months represents that more than 50000 of the clients relates to 0 amount.</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-3-18.png" width="672" /></p>
<pre><code>## Distribution of No of times 30 dpd or worse in last 6 months represents that almost 50000 of the clients relates to 0 amount.</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-3-19.png" width="672" /></p>
<pre><code>## Distribution of No of times 90 dpd or worse in last 12 months represents that almost 50000 of the clients relates to 0 amount.</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-3-20.png" width="672" /></p>
<pre><code>## Distribution of No of times 60 dpd or worse in last 12 months represents that almost 45000 of the clients relates to 0 amount.</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-3-21.png" width="672" /></p>
<pre><code>## Distribution of No of times 30 dpd or worse in last 12 months represents that almost 45000 of the clients relates to 0 amount.</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-3-22.png" width="672" /></p>
<pre><code>## Distribution of Vgas cc_utilization in last 12_months represents that the mean of the data is 29.27.</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-3-23.png" width="672" /></p>
<pre><code>## Distribution of no of trades opened in last 6_months represents that 20000 of trades 2 times in last 6 months.</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-3-24.png" width="672" /></p>
<pre><code>## Distribution of no of trades opened in last 12_months represents that 11000 of trades 2 times in last 6 month.</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-3-25.png" width="672" /></p>
<pre><code>## Distribution of No of pl trades opened in last 6_months represents that 0, 1, and 2 are the three most frequent pl trades in last 6 months.</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-3-26.png" width="672" /></p>
<pre><code>## Distribution of No of pl trades opened in last 12_months represents that 0, 3, and 4 are the three most frequent pl trades in last 6 months.</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-3-27.png" width="672" /></p>
<pre><code>## Distribution of No of inquiries in last 6_months represents that 0, 1, and 2 are the three most frequent pl trades in last 6 months.</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-3-28.png" width="672" /></p>
<pre><code>## Distribution of no of inquiries in last 12_months excluding home_auto loans represents that 0, 2, 3, and are the four most frequent pl trades in last 6 months.</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-3-29.png" width="672" /></p>
<pre><code>## Distribution of Presence of open home loan represents that 50000 observations relates to 0 amount and 20000 related to 1.</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-3-30.png" width="672" /></p>
<pre><code>## Distribution of Total no of trades represents that the most amount is 3 with 9000 observations.</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-3-31.png" width="672" /></p>
<pre><code>## Distribution of presence of open auto loan represents that the most amount is 0 with almost 60000 observations.</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-3-32.png" width="672" /></p>
<div id="bivariate-analysis-of-credit_bureau-data" class="section level3">
<h3>Bivariate Analysis of credit_bureau data</h3>
<p>Among the different variables, the following variables have the most correlation with the performance tag.
no_of_times_30_dpd_or_worse_in_last_6_months: 0.1
no_of_times_30_dpd_or_worse_in_last_12_months: 0.1
no_of_times_60_dpd_or_worse_in_last_6_months: 0.09
no_of_times_60_dpd_or_worse_in_last_12_months: 0.09
avgas_cc_utilization_in_last_12_months: 0.08
no_of_times_90_dpd_or_worse_in_last_6_months: 0.08</p>
<pre><code>## The Correlation between no_of_inquiries_in_last_12_months_excluding_home_auto_loans and performance Tag is 0.05602722</code></pre>
<pre><code>## The Correlation between presence_of_open_home_loan and performance Tag is -0.02547596</code></pre>
<pre><code>## The Correlation between outstanding_balance and performance Tag is 0.001155206</code></pre>
<pre><code>## The Correlation between total_no_of_trades and performance Tag is 0.0349171</code></pre>
<pre><code>## The Correlation between presence_of_open_auto_loan and performance Tag is -0.007971069</code></pre>
<pre><code>## The Correlation between avgas_cc_utilization_in_last_12_months and performance Tag is 0.08040627</code></pre>
<pre><code>## The Correlation between no_of_trades_opened_in_last_6_months and performance Tag is 0.05069951</code></pre>
<pre><code>## The Correlation between no_of_trades_opened_in_last_12_monthss and performance Tag is 0.05921629</code></pre>
<pre><code>## The Correlation between no_of_pl_trades_opened_in_last_6_months and performance Tag is 0.07211644</code></pre>
<pre><code>## The Correlation between no_of_pl_trades_opened_in_last_12_months and performance Tag is 0.07780216</code></pre>
<pre><code>## The Correlation between no_of_inquiries_in_last_6_months_excluding_home_auto_loans and performance Tag is 0.04671557</code></pre>
<pre><code>## The Correlation between no_of_times_90_dpd_or_worse_in_last_6_months and performance Tag is 0.08814223</code></pre>
<pre><code>## The Correlation between no_of_times_60_dpd_or_worse_in_last_6_months and performance Tag is 0.09567882</code></pre>
<pre><code>## The Correlation between no_of_times_30_dpd_or_worse_in_last_6_months and performance Tag is 0.1027773</code></pre>
<pre><code>## The Correlation between no_of_times_90_dpd_or_worse_in_last_12_months and performance Tag is 0.09772734</code></pre>
<pre><code>## The Correlation between no_of_times_60_dpd_or_worse_in_last_12_months and performance Tag is 0.09296393</code></pre>
<pre><code>## The Correlation between no_of_times_30_dpd_or_worse_in_last_12_months and performance Tag is 0.1009908</code></pre>
<pre><code>##                                                             application_id
## application_id                                                        1.00
## no_of_times_90_dpd_or_worse_in_last_6_months                          0.00
## no_of_times_60_dpd_or_worse_in_last_6_months                          0.00
## no_of_times_30_dpd_or_worse_in_last_6_months                          0.00
## no_of_times_90_dpd_or_worse_in_last_12_months                         0.00
## no_of_times_60_dpd_or_worse_in_last_12_months                         0.00
## no_of_times_30_dpd_or_worse_in_last_12_months                         0.00
## avgas_cc_utilization_in_last_12_months                                0.00
## no_of_trades_opened_in_last_6_months                                  0.00
## no_of_trades_opened_in_last_12_months                                 0.00
## no_of_pl_trades_opened_in_last_6_months                               0.00
## no_of_pl_trades_opened_in_last_12_months                              0.00
## no_of_inquiries_in_last_6_months_excluding_home_auto_loans            0.00
## no_of_inquiries_in_last_12_months_excluding_home_auto_loans           0.00
## presence_of_open_home_loan                                            0.00
## outstanding_balance                                                   0.00
## total_no_of_trades                                                    0.00
## presence_of_open_auto_loan                                            0.01
## performance_tag                                                       0.00
##                                                             no_of_times_90_dpd_or_worse_in_last_6_months
## application_id                                                                                      0.00
## no_of_times_90_dpd_or_worse_in_last_6_months                                                        1.00
## no_of_times_60_dpd_or_worse_in_last_6_months                                                        0.89
## no_of_times_30_dpd_or_worse_in_last_6_months                                                        0.84
## no_of_times_90_dpd_or_worse_in_last_12_months                                                       0.89
## no_of_times_60_dpd_or_worse_in_last_12_months                                                       0.82
## no_of_times_30_dpd_or_worse_in_last_12_months                                                       0.80
## avgas_cc_utilization_in_last_12_months                                                              0.36
## no_of_trades_opened_in_last_6_months                                                                0.14
## no_of_trades_opened_in_last_12_months                                                               0.17
## no_of_pl_trades_opened_in_last_6_months                                                             0.25
## no_of_pl_trades_opened_in_last_12_months                                                            0.27
## no_of_inquiries_in_last_6_months_excluding_home_auto_loans                                          0.14
## no_of_inquiries_in_last_12_months_excluding_home_auto_loans                                         0.15
## presence_of_open_home_loan                                                                         -0.11
## outstanding_balance                                                                                -0.02
## total_no_of_trades                                                                                  0.03
## presence_of_open_auto_loan                                                                         -0.03
## performance_tag                                                                                     0.09
##                                                             no_of_times_60_dpd_or_worse_in_last_6_months
## application_id                                                                                      0.00
## no_of_times_90_dpd_or_worse_in_last_6_months                                                        0.89
## no_of_times_60_dpd_or_worse_in_last_6_months                                                        1.00
## no_of_times_30_dpd_or_worse_in_last_6_months                                                        0.95
## no_of_times_90_dpd_or_worse_in_last_12_months                                                       0.84
## no_of_times_60_dpd_or_worse_in_last_12_months                                                       0.92
## no_of_times_30_dpd_or_worse_in_last_12_months                                                       0.90
## avgas_cc_utilization_in_last_12_months                                                              0.35
## no_of_trades_opened_in_last_6_months                                                                0.15
## no_of_trades_opened_in_last_12_months                                                               0.19
## no_of_pl_trades_opened_in_last_6_months                                                             0.27
## no_of_pl_trades_opened_in_last_12_months                                                            0.30
## no_of_inquiries_in_last_6_months_excluding_home_auto_loans                                          0.15
## no_of_inquiries_in_last_12_months_excluding_home_auto_loans                                         0.17
## presence_of_open_home_loan                                                                         -0.12
## outstanding_balance                                                                                -0.02
## total_no_of_trades                                                                                  0.04
## presence_of_open_auto_loan                                                                         -0.03
## performance_tag                                                                                     0.10
##                                                             no_of_times_30_dpd_or_worse_in_last_6_months
## application_id                                                                                      0.00
## no_of_times_90_dpd_or_worse_in_last_6_months                                                        0.84
## no_of_times_60_dpd_or_worse_in_last_6_months                                                        0.95
## no_of_times_30_dpd_or_worse_in_last_6_months                                                        1.00
## no_of_times_90_dpd_or_worse_in_last_12_months                                                       0.83
## no_of_times_60_dpd_or_worse_in_last_12_months                                                       0.90
## no_of_times_30_dpd_or_worse_in_last_12_months                                                       0.95
## avgas_cc_utilization_in_last_12_months                                                              0.35
## no_of_trades_opened_in_last_6_months                                                                0.16
## no_of_trades_opened_in_last_12_months                                                               0.20
## no_of_pl_trades_opened_in_last_6_months                                                             0.28
## no_of_pl_trades_opened_in_last_12_months                                                            0.31
## no_of_inquiries_in_last_6_months_excluding_home_auto_loans                                          0.16
## no_of_inquiries_in_last_12_months_excluding_home_auto_loans                                         0.18
## presence_of_open_home_loan                                                                         -0.12
## outstanding_balance                                                                                -0.02
## total_no_of_trades                                                                                  0.04
## presence_of_open_auto_loan                                                                         -0.03
## performance_tag                                                                                     0.10
##                                                             no_of_times_90_dpd_or_worse_in_last_12_months
## application_id                                                                                       0.00
## no_of_times_90_dpd_or_worse_in_last_6_months                                                         0.89
## no_of_times_60_dpd_or_worse_in_last_6_months                                                         0.84
## no_of_times_30_dpd_or_worse_in_last_6_months                                                         0.83
## no_of_times_90_dpd_or_worse_in_last_12_months                                                        1.00
## no_of_times_60_dpd_or_worse_in_last_12_months                                                        0.81
## no_of_times_30_dpd_or_worse_in_last_12_months                                                        0.80
## avgas_cc_utilization_in_last_12_months                                                               0.38
## no_of_trades_opened_in_last_6_months                                                                 0.15
## no_of_trades_opened_in_last_12_months                                                                0.19
## no_of_pl_trades_opened_in_last_6_months                                                              0.28
## no_of_pl_trades_opened_in_last_12_months                                                             0.31
## no_of_inquiries_in_last_6_months_excluding_home_auto_loans                                           0.16
## no_of_inquiries_in_last_12_months_excluding_home_auto_loans                                          0.18
## presence_of_open_home_loan                                                                          -0.13
## outstanding_balance                                                                                 -0.02
## total_no_of_trades                                                                                   0.04
## presence_of_open_auto_loan                                                                          -0.03
## performance_tag                                                                                      0.10
##                                                             no_of_times_60_dpd_or_worse_in_last_12_months
## application_id                                                                                       0.00
## no_of_times_90_dpd_or_worse_in_last_6_months                                                         0.82
## no_of_times_60_dpd_or_worse_in_last_6_months                                                         0.92
## no_of_times_30_dpd_or_worse_in_last_6_months                                                         0.90
## no_of_times_90_dpd_or_worse_in_last_12_months                                                        0.81
## no_of_times_60_dpd_or_worse_in_last_12_months                                                        1.00
## no_of_times_30_dpd_or_worse_in_last_12_months                                                        0.90
## avgas_cc_utilization_in_last_12_months                                                               0.34
## no_of_trades_opened_in_last_6_months                                                                 0.13
## no_of_trades_opened_in_last_12_months                                                                0.16
## no_of_pl_trades_opened_in_last_6_months                                                              0.25
## no_of_pl_trades_opened_in_last_12_months                                                             0.28
## no_of_inquiries_in_last_6_months_excluding_home_auto_loans                                           0.13
## no_of_inquiries_in_last_12_months_excluding_home_auto_loans                                          0.14
## presence_of_open_home_loan                                                                          -0.11
## outstanding_balance                                                                                 -0.02
## total_no_of_trades                                                                                   0.01
## presence_of_open_auto_loan                                                                          -0.02
## performance_tag                                                                                      0.09
##                                                             no_of_times_30_dpd_or_worse_in_last_12_months
## application_id                                                                                       0.00
## no_of_times_90_dpd_or_worse_in_last_6_months                                                         0.80
## no_of_times_60_dpd_or_worse_in_last_6_months                                                         0.90
## no_of_times_30_dpd_or_worse_in_last_6_months                                                         0.95
## no_of_times_90_dpd_or_worse_in_last_12_months                                                        0.80
## no_of_times_60_dpd_or_worse_in_last_12_months                                                        0.90
## no_of_times_30_dpd_or_worse_in_last_12_months                                                        1.00
## avgas_cc_utilization_in_last_12_months                                                               0.34
## no_of_trades_opened_in_last_6_months                                                                 0.14
## no_of_trades_opened_in_last_12_months                                                                0.18
## no_of_pl_trades_opened_in_last_6_months                                                              0.26
## no_of_pl_trades_opened_in_last_12_months                                                             0.29
## no_of_inquiries_in_last_6_months_excluding_home_auto_loans                                           0.14
## no_of_inquiries_in_last_12_months_excluding_home_auto_loans                                          0.16
## presence_of_open_home_loan                                                                          -0.11
## outstanding_balance                                                                                 -0.02
## total_no_of_trades                                                                                   0.01
## presence_of_open_auto_loan                                                                          -0.03
## performance_tag                                                                                      0.10
##                                                             avgas_cc_utilization_in_last_12_months
## application_id                                                                                0.00
## no_of_times_90_dpd_or_worse_in_last_6_months                                                  0.36
## no_of_times_60_dpd_or_worse_in_last_6_months                                                  0.35
## no_of_times_30_dpd_or_worse_in_last_6_months                                                  0.35
## no_of_times_90_dpd_or_worse_in_last_12_months                                                 0.38
## no_of_times_60_dpd_or_worse_in_last_12_months                                                 0.34
## no_of_times_30_dpd_or_worse_in_last_12_months                                                 0.34
## avgas_cc_utilization_in_last_12_months                                                        1.00
## no_of_trades_opened_in_last_6_months                                                          0.09
## no_of_trades_opened_in_last_12_months                                                         0.13
## no_of_pl_trades_opened_in_last_6_months                                                       0.24
## no_of_pl_trades_opened_in_last_12_months                                                      0.27
## no_of_inquiries_in_last_6_months_excluding_home_auto_loans                                    0.09
## no_of_inquiries_in_last_12_months_excluding_home_auto_loans                                   0.10
## presence_of_open_home_loan                                                                   -0.13
## outstanding_balance                                                                          -0.03
## total_no_of_trades                                                                           -0.01
## presence_of_open_auto_loan                                                                   -0.04
## performance_tag                                                                               0.08
##                                                             no_of_trades_opened_in_last_6_months
## application_id                                                                              0.00
## no_of_times_90_dpd_or_worse_in_last_6_months                                                0.14
## no_of_times_60_dpd_or_worse_in_last_6_months                                                0.15
## no_of_times_30_dpd_or_worse_in_last_6_months                                                0.16
## no_of_times_90_dpd_or_worse_in_last_12_months                                               0.15
## no_of_times_60_dpd_or_worse_in_last_12_months                                               0.13
## no_of_times_30_dpd_or_worse_in_last_12_months                                               0.14
## avgas_cc_utilization_in_last_12_months                                                      0.09
## no_of_trades_opened_in_last_6_months                                                        1.00
## no_of_trades_opened_in_last_12_months                                                       0.94
## no_of_pl_trades_opened_in_last_6_months                                                     0.88
## no_of_pl_trades_opened_in_last_12_months                                                    0.83
## no_of_inquiries_in_last_6_months_excluding_home_auto_loans                                  0.67
## no_of_inquiries_in_last_12_months_excluding_home_auto_loans                                 0.73
## presence_of_open_home_loan                                                                 -0.12
## outstanding_balance                                                                         0.17
## total_no_of_trades                                                                          0.89
## presence_of_open_auto_loan                                                                 -0.04
## performance_tag                                                                             0.05
##                                                             no_of_trades_opened_in_last_12_months
## application_id                                                                               0.00
## no_of_times_90_dpd_or_worse_in_last_6_months                                                 0.17
## no_of_times_60_dpd_or_worse_in_last_6_months                                                 0.19
## no_of_times_30_dpd_or_worse_in_last_6_months                                                 0.20
## no_of_times_90_dpd_or_worse_in_last_12_months                                                0.19
## no_of_times_60_dpd_or_worse_in_last_12_months                                                0.16
## no_of_times_30_dpd_or_worse_in_last_12_months                                                0.18
## avgas_cc_utilization_in_last_12_months                                                       0.13
## no_of_trades_opened_in_last_6_months                                                         0.94
## no_of_trades_opened_in_last_12_months                                                        1.00
## no_of_pl_trades_opened_in_last_6_months                                                      0.89
## no_of_pl_trades_opened_in_last_12_months                                                     0.93
## no_of_inquiries_in_last_6_months_excluding_home_auto_loans                                   0.72
## no_of_inquiries_in_last_12_months_excluding_home_auto_loans                                  0.79
## presence_of_open_home_loan                                                                  -0.14
## outstanding_balance                                                                          0.19
## total_no_of_trades                                                                           0.94
## presence_of_open_auto_loan                                                                  -0.05
## performance_tag                                                                              0.06
##                                                             no_of_pl_trades_opened_in_last_6_months
## application_id                                                                                 0.00
## no_of_times_90_dpd_or_worse_in_last_6_months                                                   0.25
## no_of_times_60_dpd_or_worse_in_last_6_months                                                   0.27
## no_of_times_30_dpd_or_worse_in_last_6_months                                                   0.28
## no_of_times_90_dpd_or_worse_in_last_12_months                                                  0.28
## no_of_times_60_dpd_or_worse_in_last_12_months                                                  0.25
## no_of_times_30_dpd_or_worse_in_last_12_months                                                  0.26
## avgas_cc_utilization_in_last_12_months                                                         0.24
## no_of_trades_opened_in_last_6_months                                                           0.88
## no_of_trades_opened_in_last_12_months                                                          0.89
## no_of_pl_trades_opened_in_last_6_months                                                        1.00
## no_of_pl_trades_opened_in_last_12_months                                                       0.90
## no_of_inquiries_in_last_6_months_excluding_home_auto_loans                                     0.60
## no_of_inquiries_in_last_12_months_excluding_home_auto_loans                                    0.65
## presence_of_open_home_loan                                                                    -0.14
## outstanding_balance                                                                            0.17
## total_no_of_trades                                                                             0.79
## presence_of_open_auto_loan                                                                    -0.05
## performance_tag                                                                                0.07
##                                                             no_of_pl_trades_opened_in_last_12_months
## application_id                                                                                  0.00
## no_of_times_90_dpd_or_worse_in_last_6_months                                                    0.27
## no_of_times_60_dpd_or_worse_in_last_6_months                                                    0.30
## no_of_times_30_dpd_or_worse_in_last_6_months                                                    0.31
## no_of_times_90_dpd_or_worse_in_last_12_months                                                   0.31
## no_of_times_60_dpd_or_worse_in_last_12_months                                                   0.28
## no_of_times_30_dpd_or_worse_in_last_12_months                                                   0.29
## avgas_cc_utilization_in_last_12_months                                                          0.27
## no_of_trades_opened_in_last_6_months                                                            0.83
## no_of_trades_opened_in_last_12_months                                                           0.93
## no_of_pl_trades_opened_in_last_6_months                                                         0.90
## no_of_pl_trades_opened_in_last_12_months                                                        1.00
## no_of_inquiries_in_last_6_months_excluding_home_auto_loans                                      0.66
## no_of_inquiries_in_last_12_months_excluding_home_auto_loans                                     0.73
## presence_of_open_home_loan                                                                     -0.16
## outstanding_balance                                                                             0.20
## total_no_of_trades                                                                              0.83
## presence_of_open_auto_loan                                                                     -0.05
## performance_tag                                                                                 0.08
##                                                             no_of_inquiries_in_last_6_months_excluding_home_auto_loans
## application_id                                                                                                    0.00
## no_of_times_90_dpd_or_worse_in_last_6_months                                                                      0.14
## no_of_times_60_dpd_or_worse_in_last_6_months                                                                      0.15
## no_of_times_30_dpd_or_worse_in_last_6_months                                                                      0.16
## no_of_times_90_dpd_or_worse_in_last_12_months                                                                     0.16
## no_of_times_60_dpd_or_worse_in_last_12_months                                                                     0.13
## no_of_times_30_dpd_or_worse_in_last_12_months                                                                     0.14
## avgas_cc_utilization_in_last_12_months                                                                            0.09
## no_of_trades_opened_in_last_6_months                                                                              0.67
## no_of_trades_opened_in_last_12_months                                                                             0.72
## no_of_pl_trades_opened_in_last_6_months                                                                           0.60
## no_of_pl_trades_opened_in_last_12_months                                                                          0.66
## no_of_inquiries_in_last_6_months_excluding_home_auto_loans                                                        1.00
## no_of_inquiries_in_last_12_months_excluding_home_auto_loans                                                       0.91
## presence_of_open_home_loan                                                                                       -0.12
## outstanding_balance                                                                                               0.11
## total_no_of_trades                                                                                                0.71
## presence_of_open_auto_loan                                                                                       -0.04
## performance_tag                                                                                                   0.05
##                                                             no_of_inquiries_in_last_12_months_excluding_home_auto_loans
## application_id                                                                                                     0.00
## no_of_times_90_dpd_or_worse_in_last_6_months                                                                       0.15
## no_of_times_60_dpd_or_worse_in_last_6_months                                                                       0.17
## no_of_times_30_dpd_or_worse_in_last_6_months                                                                       0.18
## no_of_times_90_dpd_or_worse_in_last_12_months                                                                      0.18
## no_of_times_60_dpd_or_worse_in_last_12_months                                                                      0.14
## no_of_times_30_dpd_or_worse_in_last_12_months                                                                      0.16
## avgas_cc_utilization_in_last_12_months                                                                             0.10
## no_of_trades_opened_in_last_6_months                                                                               0.73
## no_of_trades_opened_in_last_12_months                                                                              0.79
## no_of_pl_trades_opened_in_last_6_months                                                                            0.65
## no_of_pl_trades_opened_in_last_12_months                                                                           0.73
## no_of_inquiries_in_last_6_months_excluding_home_auto_loans                                                         0.91
## no_of_inquiries_in_last_12_months_excluding_home_auto_loans                                                        1.00
## presence_of_open_home_loan                                                                                        -0.13
## outstanding_balance                                                                                                0.12
## total_no_of_trades                                                                                                 0.78
## presence_of_open_auto_loan                                                                                        -0.05
## performance_tag                                                                                                    0.06
##                                                             presence_of_open_home_loan
## application_id                                                                    0.00
## no_of_times_90_dpd_or_worse_in_last_6_months                                     -0.11
## no_of_times_60_dpd_or_worse_in_last_6_months                                     -0.12
## no_of_times_30_dpd_or_worse_in_last_6_months                                     -0.12
## no_of_times_90_dpd_or_worse_in_last_12_months                                    -0.13
## no_of_times_60_dpd_or_worse_in_last_12_months                                    -0.11
## no_of_times_30_dpd_or_worse_in_last_12_months                                    -0.11
## avgas_cc_utilization_in_last_12_months                                           -0.13
## no_of_trades_opened_in_last_6_months                                             -0.12
## no_of_trades_opened_in_last_12_months                                            -0.14
## no_of_pl_trades_opened_in_last_6_months                                          -0.14
## no_of_pl_trades_opened_in_last_12_months                                         -0.16
## no_of_inquiries_in_last_6_months_excluding_home_auto_loans                       -0.12
## no_of_inquiries_in_last_12_months_excluding_home_auto_loans                      -0.13
## presence_of_open_home_loan                                                        1.00
## outstanding_balance                                                               0.94
## total_no_of_trades                                                               -0.10
## presence_of_open_auto_loan                                                        0.02
## performance_tag                                                                  -0.03
##                                                             outstanding_balance
## application_id                                                             0.00
## no_of_times_90_dpd_or_worse_in_last_6_months                              -0.02
## no_of_times_60_dpd_or_worse_in_last_6_months                              -0.02
## no_of_times_30_dpd_or_worse_in_last_6_months                              -0.02
## no_of_times_90_dpd_or_worse_in_last_12_months                             -0.02
## no_of_times_60_dpd_or_worse_in_last_12_months                             -0.02
## no_of_times_30_dpd_or_worse_in_last_12_months                             -0.02
## avgas_cc_utilization_in_last_12_months                                    -0.03
## no_of_trades_opened_in_last_6_months                                       0.17
## no_of_trades_opened_in_last_12_months                                      0.19
## no_of_pl_trades_opened_in_last_6_months                                    0.17
## no_of_pl_trades_opened_in_last_12_months                                   0.20
## no_of_inquiries_in_last_6_months_excluding_home_auto_loans                 0.11
## no_of_inquiries_in_last_12_months_excluding_home_auto_loans                0.12
## presence_of_open_home_loan                                                 0.94
## outstanding_balance                                                        1.00
## total_no_of_trades                                                         0.19
## presence_of_open_auto_loan                                                 0.05
## performance_tag                                                            0.00
##                                                             total_no_of_trades
## application_id                                                            0.00
## no_of_times_90_dpd_or_worse_in_last_6_months                              0.03
## no_of_times_60_dpd_or_worse_in_last_6_months                              0.04
## no_of_times_30_dpd_or_worse_in_last_6_months                              0.04
## no_of_times_90_dpd_or_worse_in_last_12_months                             0.04
## no_of_times_60_dpd_or_worse_in_last_12_months                             0.01
## no_of_times_30_dpd_or_worse_in_last_12_months                             0.01
## avgas_cc_utilization_in_last_12_months                                   -0.01
## no_of_trades_opened_in_last_6_months                                      0.89
## no_of_trades_opened_in_last_12_months                                     0.94
## no_of_pl_trades_opened_in_last_6_months                                   0.79
## no_of_pl_trades_opened_in_last_12_months                                  0.83
## no_of_inquiries_in_last_6_months_excluding_home_auto_loans                0.71
## no_of_inquiries_in_last_12_months_excluding_home_auto_loans               0.78
## presence_of_open_home_loan                                               -0.10
## outstanding_balance                                                       0.19
## total_no_of_trades                                                        1.00
## presence_of_open_auto_loan                                               -0.04
## performance_tag                                                           0.04
##                                                             presence_of_open_auto_loan
## application_id                                                                    0.01
## no_of_times_90_dpd_or_worse_in_last_6_months                                     -0.03
## no_of_times_60_dpd_or_worse_in_last_6_months                                     -0.03
## no_of_times_30_dpd_or_worse_in_last_6_months                                     -0.03
## no_of_times_90_dpd_or_worse_in_last_12_months                                    -0.03
## no_of_times_60_dpd_or_worse_in_last_12_months                                    -0.02
## no_of_times_30_dpd_or_worse_in_last_12_months                                    -0.03
## avgas_cc_utilization_in_last_12_months                                           -0.04
## no_of_trades_opened_in_last_6_months                                             -0.04
## no_of_trades_opened_in_last_12_months                                            -0.05
## no_of_pl_trades_opened_in_last_6_months                                          -0.05
## no_of_pl_trades_opened_in_last_12_months                                         -0.05
## no_of_inquiries_in_last_6_months_excluding_home_auto_loans                       -0.04
## no_of_inquiries_in_last_12_months_excluding_home_auto_loans                      -0.05
## presence_of_open_home_loan                                                        0.02
## outstanding_balance                                                               0.05
## total_no_of_trades                                                               -0.04
## presence_of_open_auto_loan                                                        1.00
## performance_tag                                                                  -0.01
##                                                             performance_tag
## application_id                                                         0.00
## no_of_times_90_dpd_or_worse_in_last_6_months                           0.09
## no_of_times_60_dpd_or_worse_in_last_6_months                           0.10
## no_of_times_30_dpd_or_worse_in_last_6_months                           0.10
## no_of_times_90_dpd_or_worse_in_last_12_months                          0.10
## no_of_times_60_dpd_or_worse_in_last_12_months                          0.09
## no_of_times_30_dpd_or_worse_in_last_12_months                          0.10
## avgas_cc_utilization_in_last_12_months                                 0.08
## no_of_trades_opened_in_last_6_months                                   0.05
## no_of_trades_opened_in_last_12_months                                  0.06
## no_of_pl_trades_opened_in_last_6_months                                0.07
## no_of_pl_trades_opened_in_last_12_months                               0.08
## no_of_inquiries_in_last_6_months_excluding_home_auto_loans             0.05
## no_of_inquiries_in_last_12_months_excluding_home_auto_loans            0.06
## presence_of_open_home_loan                                            -0.03
## outstanding_balance                                                    0.00
## total_no_of_trades                                                     0.04
## presence_of_open_auto_loan                                            -0.01
## performance_tag                                                        1.00</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
</div>
</div>
<div id="splitting-the-data-to-training-and-testing-splits" class="section level2">
<h2>Splitting the data to training and testing splits</h2>
<p>In this step we are going to split the data, so that 3/4 of the data would be assigned for training and the remaining 1/4 of the data would be assigned for testing.</p>
</div>
<div id="information-vlaue-of-the-predictors" class="section level2">
<h2>Information Vlaue of the predictors</h2>
<p>Information value is used to select important predictors in the predictive model, So for the first model that used only the Demographic data we can see that the predictors with high information value (greater than 0.02) are no_of_months_in_current_residence,income, age, no_of_months_in_current_company, and for the second model the predictors with the high information value are all the predictors except application_id,gender_profession, marital_status_at_the_time_of_application, education, presence_of_open_auto_loan, type_of_residence and no_of_dependents.</p>
<p>Based on the table shown below, any predictors whose information value is less than 0.02 is considered not useful and accordingly will be discarded and not used in our predictive models.</p>
<p><img src="table.png" width="98%" /></p>
<p>From the shown table of the information values of the first model predictors we can see that out of the 11 predictors the first 4 predictors only will be used as their information value is greater than 0.02.</p>
<p><img src="iv_d.png" width="98%" /></p>
<p>From the shown table of the information values of the second model predictors we can see that out of the 28 predictors the first 20 predictors only will be used as their information value is greater than 0.02.</p>
<p><img src="iv_b.png" width="98%" /></p>
</div>
<div id="creating-bins-for-each-predictor" class="section level2">
<h2>Creating bins for each predictor</h2>
<p>In this part we will create number of bins for each predictor in the twos models.The bins for each predictor is created based on similarity of dependent variable distribution.</p>
</div>
<div id="weight-of-evidence-tranformation" class="section level2">
<h2>Weight of evidence tranformation</h2>
<p>In this part we are going to calculate the weight of evidence (WOE) of the continuous predictors that helps to transform a continuous independent variable into a set of bins. Woe tells the predictive power of an independent variable in relation to the dependent variable.</p>
<pre><code>## [INFO] converting into woe values ...</code></pre>
<pre><code>## [INFO] converting into woe values ...</code></pre>
<pre><code>## [INFO] converting into woe values ...</code></pre>
<pre><code>## [INFO] converting into woe values ...</code></pre>
</div>
<div id="check-correct-binning-with-weight-of-evidence-woe" class="section level2">
<h2>Check correct binning with weight of evidence (WOE)</h2>
<p>To check that the binning with weight of evidence is correct the binning need to satisfy two criteria:</p>
<p>1.The WOE should be monotonic.
2.The slope resulted from a logistic regression with one independent variable vs the dependent variable must be equal to one or the intercept must be ln(% of non-events / % of events) .</p>
<p>The graphs below show the binning and WOE transformation associated with all the predictors in the two models, From the shown graphs, we can see that the Woe transformation of all the predictors in the two models satisfied the first criteria that all are monotonic.</p>
<pre><code>## $no_of_months_in_current_residence</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<pre><code>## $no_of_months_in_current_company</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-14-2.png" width="672" /></p>
<pre><code>## $age</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-14-3.png" width="672" /></p>
<pre><code>## $income</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-14-4.png" width="672" /></p>
<pre><code>## $no_of_times_90_dpd_or_worse_in_last_6_months</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-14-5.png" width="672" /></p>
<pre><code>## $no_of_times_60_dpd_or_worse_in_last_6_months</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-14-6.png" width="672" /></p>
<pre><code>## $no_of_times_30_dpd_or_worse_in_last_6_months</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-14-7.png" width="672" /></p>
<pre><code>## $no_of_times_90_dpd_or_worse_in_last_12_months</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-14-8.png" width="672" /></p>
<pre><code>## $no_of_times_60_dpd_or_worse_in_last_12_months</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-14-9.png" width="672" /></p>
<pre><code>## $no_of_times_30_dpd_or_worse_in_last_12_months</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-14-10.png" width="672" /></p>
<pre><code>## $avgas_cc_utilization_in_last_12_months</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-14-11.png" width="672" /></p>
<pre><code>## $no_of_trades_opened_in_last_6_months</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-14-12.png" width="672" /></p>
<pre><code>## $no_of_trades_opened_in_last_12_months</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-14-13.png" width="672" /></p>
<pre><code>## $no_of_pl_trades_opened_in_last_6_months</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-14-14.png" width="672" /></p>
<pre><code>## $no_of_pl_trades_opened_in_last_12_months</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-14-15.png" width="672" /></p>
<pre><code>## $no_of_inquiries_in_last_6_months_excluding_home_auto_loans</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-14-16.png" width="672" /></p>
<pre><code>## $no_of_inquiries_in_last_12_months_excluding_home_auto_loans</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-14-17.png" width="672" /></p>
<pre><code>## $total_no_of_trades</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-14-18.png" width="672" /></p>
<pre><code>## $no_of_months_in_current_residence</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-14-19.png" width="672" /></p>
<pre><code>## $no_of_months_in_current_company</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-14-20.png" width="672" /></p>
<pre><code>## $income</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-14-21.png" width="672" /></p>
<pre><code>## $age</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-14-22.png" width="672" /></p>
<pre><code>## $outstanding_balance</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-14-23.png" width="672" /></p>
<p>The logistic regressions resulted from each predictor in the two models Vs the dependent variable show that the slope associated with each regression is one as required.</p>
</div>
<div id="data-balance" class="section level2">
<h2>Data Balance</h2>
<p>As an important step before using the data in predictive models is to check the data balance, where the imbalanced data refers to the number of observations in the training dataset for each class is not balanced. If the data is imbalance it would result in poor performance for the predictive models because of the severely skewed class distribution.</p>
<p>The training splits for the both the demographic and combined data are of 52402 observations out of which 50193 observations for 0 performance_tag class and 2209 observations for 1 performance_tag class.so the percentage of the customers with performance tag equal to one is around 4.2 % in our training data sets for both the Demographic and combined dataframe, which is considered very small portion and resulted in imbalanced data sets.</p>
<p>performance_tag n</p>
<p>0 50193</p>
<p>1 2209</p>
</div>
<div id="balance-the-imbalanced-data" class="section level2">
<h2>Balance the imbalanced data</h2>
<p>To balance the imbalanced data we need to artificially create 1 performace_tag observations. Smote function is used to handles unbalanced classification problems using the SMOTE method. Namely, it can generate a new â€œSMOTEdâ€ data set that addresses the class unbalance problem.</p>
<p>The resulted balanced data is as shown:</p>
<p>0 1
4418 4418</p>
<p>0 1
4444 4444</p>
<div id="logistic-regression-model" class="section level3">
<h3>Logistic Regression Model</h3>
<p>Two logistic regression models are created.First logistic regression predictive model is created that used only the demographic balanced WOE transformed training data split for training the model and the second logistic regression predictive model is created that used combined balanced WOE transformed training data split for training the model.</p>
<p>In the logistic regression models, the P-Value and the VIF value are used for further filtration for the predictors used in each model. Also the receiver operating characteristic curve (ROC) was used to tune the logistic models by determining the most suitable cut off threshold value.</p>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-18-1.png" width="672" /><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-18-2.png" width="672" /></p>
<p><em>1st model (using only the demographic data) gave the following results on the testing data</em></p>
<p>Accuracy: 0.569
Sensitivity: 0.569
Specificity: 0.569</p>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-19-1.png" width="672" /><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-19-2.png" width="672" /></p>
<p><em>2nd model (using the combined data) gave the following results on the testing data</em></p>
<p>Accuracy: 0.625
Sensitivity: 0.626
Specificity: 0.606</p>
</div>
</div>
<div id="cross-validation" class="section level2">
<h2>Cross validation</h2>
<p>The Cross validation is used for resampling and evaluation of the performance of our logistic regression models, where the 3 metrics used are the accuracy, sensitivity and specificity.</p>
<p>For the 1st logistic regression model running the cross validation with 10 folds gave us an average accuracy of 0.587%, while for the 2nd logistic regression model running the cross validation with 10 folds gave us an average accuracy of 0.631%</p>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-21-1.png" width="672" />
## Conclusion from the Logistic regression models</p>
<ul>
<li><p>Comparing the first model accuracy of 0.569% to the cross validation accuracy of 0.587% , we can see that our model is well built.</p></li>
<li><p>Comparing the second model accuracy of 0.625% to the cross validation accuracy of 0.631% , we can see that our model is well built.</p></li>
<li><p>Comparing the first model accuracy of 0.569% to the second model accuracy of 0.625% , we can see that the second model is better in prediction than the first model, so that the second model that used the combined data was better than the first model that used only the demographic data.</p></li>
</ul>
</div>
<div id="support-vector-machine-model" class="section level2">
<h2>Support Vector Machine Model</h2>
<p>â€œSupport Vector Machineâ€ (SVM) is a supervised machine learning algorithm that can be used for both classification or regression challenges. However, it is mostly used in classification problems. In the SVM algorithm, we plot each data item as a point in n-dimensional space (where n is a number of features you have) with the value of each feature being the value of a particular coordinate. Then, we perform classification by finding the hyper-plane that differentiates the two classes very well. Support Vectors are simply the coordinates of individual observation. The SVM classifier is a frontier that best segregates the two classes (hyper-plane/ line).</p>
<p><img src="svm.png" width="98%" /></p>
</div>
<div id="building-support-vector-machine-model-using-demographics-dataset" class="section level2">
<h2>Building Support Vector Machine Model using demographics dataset</h2>
<p>The support vector Machine model is built for performance tag vs other predictors from the demographic dataset with the balanced training data with the C-classification type and radial kernel.</p>
<pre><code>## 
## Call:
## svm(formula = performance_tag ~ ., data = train_data_balanced_over, 
##     type = &quot;C-classification&quot;, kernal = &quot;radial&quot;)
## 
## 
## Parameters:
##    SVM-Type:  C-classification 
##  SVM-Kernel:  radial 
##        cost:  1 
## 
## Number of Support Vectors:  7503</code></pre>
<p>The hyperplane of the previous classifier is used here to predict the performance tag of demographic testing data.</p>
</div>
<div id="building-support-vector-machine-model-using-both-demographics-and-credit-bureau-datasets" class="section level2">
<h2>Building Support Vector Machine Model using both demographics and credit bureau datasets</h2>
<p>The support vector Machine model is built for performance tag vs other predictors from the demographic dataset with the balanced training data with the C-classification type and radial kernel.</p>
<pre><code>## 
## Call:
## svm(formula = performance_tag ~ ., data = train_data_balanced_over_both, 
##     type = &quot;C-classification&quot;, kernal = &quot;radial&quot;)
## 
## 
## Parameters:
##    SVM-Type:  C-classification 
##  SVM-Kernel:  radial 
##        cost:  1 
## 
## Number of Support Vectors:  6630</code></pre>
<p>The hyperplane of the previous classifier is used here to predict the performance tag of combined testing data.</p>
<div id="sensitivity-and-specificity-check-of-svm" class="section level3">
<h3>Sensitivity and Specificity check of SVM</h3>
<pre><code>##            actual_values_2
## prediction2    0    1
##           0 2775 1924
##           1 1643 2494</code></pre>
<pre><code>##            actual_values_1
## prediction1     0     1
##           0 10156   345
##           1  6573   394</code></pre>
<pre><code>## The sensitivity of SVM model with test dataset of demographic data is  0.6070895</code></pre>
<pre><code>## The sensitivity of SVM model with train dataset of demographic data is 0.6281123</code></pre>
<pre><code>## The sensitivity of SVM model with test dataset of combined demographic and credit bureau data is 0.6281123</code></pre>
<pre><code>## The sensitivity of SVM model with train dataset of combined demographic and credit bureau data is  0.5915842 
##  
## </code></pre>
<pre><code>## The specificity of SVM model with test dataset of demographic data is  0.5331529</code></pre>
<pre><code>## The specificity of SVM model with train dataset of demographic data is 0.5645088</code></pre>
<pre><code>## The specificity of SVM model with test dataset of combined demographic and credit bureau data is 0.749775</code></pre>
<pre><code>## The specificity of SVM model with train dataset of combined demographic and credit bureau data is  0.749775 
##  
## </code></pre>
<pre><code>## 
##  
##    Cell Contents
## |-------------------------|
## |                       N |
## |-------------------------|
## 
##  
## Total Observations in Table:  17468 
## 
##  
##              | True Y 
##  Predicted Y |         0 |         1 | Row Total | 
## -------------|-----------|-----------|-----------|
##            0 |     10193 |       308 |     10501 | 
## -------------|-----------|-----------|-----------|
##            1 |      6549 |       418 |      6967 | 
## -------------|-----------|-----------|-----------|
## Column Total |     16742 |       726 |     17468 | 
## -------------|-----------|-----------|-----------|
## 
## </code></pre>
</div>
<div id="accuracy-check-of-svm" class="section level3">
<h3>Accuracy Check of SVM</h3>
<pre><code>## The accuracy of SVM model with test dataset of demographic data is  60.39615 %</code></pre>
<pre><code>## The accuracy of SVM model with train dataset of demographic data is 59.63105 %</code></pre>
<pre><code>## The accuracy of SVM model with test dataset of combined demographic and credit bureau data is 57.00137 %</code></pre>
<pre><code>## The accuracy of SVM model with train dataset of combined demographic and credit bureau data is  67.06796 %</code></pre>
</div>
</div>
<div id="random-forest-for-demographics-dataset" class="section level2">
<h2>Random forest for Demographics dataset</h2>
<p>Random forest is a flexible, easy to use machine learning algorithm that produces,
even without hyper-parameter tuning, a great result most of the time. It is also one
of the most used algorithms, because of its simplicity and diversity (it can be used
for both classification and regression tasks).</p>
<p>Random forest is a supervised learning algorithm. The â€œforestâ€ it builds, is an ensemble
of decision trees, usually trained with the â€œbaggingâ€ method. The general idea of the
bagging method is that a combination of learning models increases the overall result.</p>
<p>Overall, random forest builds multiple decision trees and merges them together to get a more accurate and stable prediction.
We get %100 accuracy for the random forest model prediction. It seems that random forest can correctly predict all of the observations.</p>
<p>The random forest model trains trees on bootstrap samples. It uses random predictors across trees. Itâ€™s hyperparameter includes ntrees = 500.</p>
<pre><code>## 
## Call:
##  randomForest(x = train_data_balanced_over, y = train_data_balanced_over$performance_tag,      ntree = 25) 
##                Type of random forest: classification
##                      Number of trees: 25
## No. of variables tried at each split: 2
## 
##         OOB estimate of  error rate: 0%
## Confusion matrix:
##      0    1 class.error
## 0 4418    0           0
## 1    0 4418           0</code></pre>
<pre><code>##    y_pred
##         0     1
##   0 16729     0
##   1     0   739</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-29-1.png" width="672" /></p>
<pre><code>##                                       MeanDecreaseGini
## performance_tag                            4295.507880
## no_of_months_in_current_residence_woe        49.480613
## no_of_months_in_current_company_woe          23.868485
## income_woe                                   15.582316
## age_woe                                       5.842339</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-29-2.png" width="672" /></p>
</div>
<div id="random-forest-for-both-demographics-and-credit-bureau-dataset" class="section level2">
<h2>Random forest for both Demographics and Credit Bureau dataset</h2>
<p><img src="RF_2.png" width="334" /><img src="unnamed-chunk-27-1.png" width="350" /><img src="unnamed-chunk-27-2.png" width="350" /></p>
</div>
<div id="financial-benefit" class="section level2">
<h2>Financial Benefit</h2>
<p>Among the three discussed models, namely Linear Regression Model, Support Vector Machine Model and Random Forest Model, the best model is selected based on the accuracy. Therefore, the Random Forest model is selected as the best due to its accuracy of 100 %. Furthermore, the financial benefit is calculated based on the predicted defaulters from the dataset using the defined model. This model finds around 748 defaulters from the dataset. For instance, if a defaulter can cause a loss of around $1000, then the total loss sums upto $748,000. So, this model saved the amount of $748,000 which is generally considered as huge financial benefit.</p>
</div>
